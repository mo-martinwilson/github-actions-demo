name: AAAActions Testing with tag mock

on:
  push:
    branches: "*"
  workflow_dispatch:
    inputs:
      key1:
        description: "key1 input example"
        required: false
    # leave blank to allow manual deploys
  # workflow_call:
  #   inputs:
  #     key1:
  #       description: "key1 input example"
  #       required: false
  #       type: string

permissions:
  contents: read

jobs:
  setup-runner:
    name: test setup runner
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Pretend deploy to CI
        run: echo "Wow, that was a quick deploy to CI!"
  approval-required:
    runs-on: ubuntu-latest
    needs: setup-runner
    environment:
      name: mjw-prod
    steps:
      - name: Waiting for the thumbs up
        run: echo "thumbs up received!"

  deploy:
    runs-on: ubuntu-latest
    needs: approval-required
    steps:
      - uses: actions/checkout@v3
      - name: Deploying
        run: echo "Deploying deploying...."
